(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[770],{968:(e,s,a)=>{"use strict";a.d(s,{b:()=>d});var r=a(2115),t=a(3655),i=a(5155),l=r.forwardRef((e,s)=>(0,i.jsx)(t.sG.label,{...e,ref:s,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var d=l},1154:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});let r=(0,a(9946).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2714:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var r=a(5155),t=a(2115),i=a(968),l=a(2085),d=a(3999);let n=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(i.b,{ref:s,className:(0,d.cn)(n(),a),...t})});c.displayName=i.b.displayName},8313:(e,s,a)=>{Promise.resolve().then(a.bind(a,9825))},8482:(e,s,a)=>{"use strict";a.d(s,{BT:()=>n,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>o});var r=a(5155);a(2115);var t=a(3999);function i(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...a})}function l(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...a})}function d(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",s),...a})}function n(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",s),...a})}function c(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",s),...a})}function o(e){let{className:s,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",s),...a})}},9474:(e,s,a)=>{"use strict";a.d(s,{T:()=>l});var r=a(5155),t=a(2115),i=a(3999);let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...t})});l.displayName="Textarea"},9825:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b,dynamic:()=>j});var r=a(5155),t=a(2115),i=a(5695),l=a(395),d=a(3059),n=a(5914),c=a(7746),o=a(7168),u=a(9852),m=a(2714),p=a(9474),h=a(8482);let x=(0,a(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var g=a(1154),f=a(6874),v=a.n(f);let j="force-dynamic";function b(){let{isAdmin:e}=(0,l.A)(),{t:s}=(0,d.o)(),a=(0,i.useRouter)(),[f,j]=(0,t.useState)(!1),[b,y]=(0,t.useState)(""),[N,_]=(0,t.useState)({name_en:"",name_pt:"",name_es:"",description_en:"",description_pt:"",description_es:"",category:"accessories",base_price:"",image_url:"",colors:"#8B5CF6,#06B6D4,#10B981",sizes:"Small,Medium,Large",materials:"PLA,ABS,PETG",featured:!1,stock_quantity:"0"}),w=async e=>{e.preventDefault(),y(""),j(!0);try{let e=localStorage.getItem("auth_token"),s=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({...N,base_price:Number.parseFloat(N.base_price),stock_quantity:Number.parseInt(N.stock_quantity),colors:N.colors.split(",").map(e=>e.trim()),sizes:N.sizes.split(",").map(e=>e.trim()),materials:N.materials.split(",").map(e=>e.trim())})});if(s.ok)a.push("/admin/products");else{let e=await s.json();y(e.error||"Failed to create product")}}catch(e){y("Network error")}finally{j(!1)}};return e?(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(n.Navbar,{}),(0,r.jsx)("main",{className:"flex-1 pt-24 pb-16",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 max-w-3xl",children:[(0,r.jsxs)("div",{className:"mb-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,r.jsx)(o.$,{asChild:!0,variant:"ghost",className:"mb-4",children:(0,r.jsxs)(v(),{href:"/admin/products",children:[(0,r.jsx)(x,{className:"h-4 w-4 mr-2"}),s.admin.backToProducts]})}),(0,r.jsx)("h1",{className:"text-4xl font-bold mb-2",children:s.admin.addProduct}),(0,r.jsx)("p",{className:"text-muted-foreground",children:s.admin.createProductHelper})]}),(0,r.jsxs)(h.Zp,{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100",children:[(0,r.jsx)(h.aR,{children:(0,r.jsx)(h.ZB,{children:s.admin.productInformation})}),(0,r.jsx)(h.Wu,{children:(0,r.jsxs)("form",{onSubmit:w,className:"space-y-6",children:[b&&(0,r.jsx)("div",{className:"p-3 text-sm text-destructive bg-destructive/10 border border-destructive/20 rounded-lg",children:b}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Names (Required in all languages)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"name_en",children:"English"}),(0,r.jsx)(u.p,{id:"name_en",value:N.name_en,onChange:e=>_({...N,name_en:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"name_pt",children:"Portugu\xeas"}),(0,r.jsx)(u.p,{id:"name_pt",value:N.name_pt,onChange:e=>_({...N,name_pt:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"name_es",children:"Espa\xf1ol"}),(0,r.jsx)(u.p,{id:"name_es",value:N.name_es,onChange:e=>_({...N,name_es:e.target.value}),required:!0})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Descriptions (Required in all languages)"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"description_en",children:"English"}),(0,r.jsx)(p.T,{id:"description_en",value:N.description_en,onChange:e=>_({...N,description_en:e.target.value}),required:!0,rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"description_pt",children:"Portugu\xeas"}),(0,r.jsx)(p.T,{id:"description_pt",value:N.description_pt,onChange:e=>_({...N,description_pt:e.target.value}),required:!0,rows:3})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"description_es",children:"Espa\xf1ol"}),(0,r.jsx)(p.T,{id:"description_es",value:N.description_es,onChange:e=>_({...N,description_es:e.target.value}),required:!0,rows:3})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"category",children:"Category"}),(0,r.jsxs)("select",{id:"category",value:N.category,onChange:e=>_({...N,category:e.target.value}),className:"w-full h-10 px-3 rounded-md border border-input bg-background",required:!0,children:[(0,r.jsx)("option",{value:"accessories",children:"Accessories"}),(0,r.jsx)("option",{value:"home",children:"Home"}),(0,r.jsx)("option",{value:"office",children:"Office"}),(0,r.jsx)("option",{value:"toys",children:"Toys"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"base_price",children:"Base Price ($)"}),(0,r.jsx)(u.p,{id:"base_price",type:"number",step:"0.01",value:N.base_price,onChange:e=>_({...N,base_price:e.target.value}),required:!0})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"image_url",children:"Image URL"}),(0,r.jsx)(u.p,{id:"image_url",type:"url",value:N.image_url,onChange:e=>_({...N,image_url:e.target.value}),placeholder:"https://example.com/image.jpg"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"colors",children:"Colors (comma separated hex codes)"}),(0,r.jsx)(u.p,{id:"colors",value:N.colors,onChange:e=>_({...N,colors:e.target.value}),placeholder:"#8B5CF6,#06B6D4,#10B981"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"sizes",children:"Sizes (comma separated)"}),(0,r.jsx)(u.p,{id:"sizes",value:N.sizes,onChange:e=>_({...N,sizes:e.target.value}),placeholder:"Small,Medium,Large"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"materials",children:"Materials (comma separated)"}),(0,r.jsx)(u.p,{id:"materials",value:N.materials,onChange:e=>_({...N,materials:e.target.value}),placeholder:"PLA,ABS,PETG"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"stock_quantity",children:"Stock Quantity"}),(0,r.jsx)(u.p,{id:"stock_quantity",type:"number",value:N.stock_quantity,onChange:e=>_({...N,stock_quantity:e.target.value}),required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 pt-8",children:[(0,r.jsx)("input",{type:"checkbox",id:"featured",checked:N.featured,onChange:e=>_({...N,featured:e.target.checked}),className:"w-4 h-4"}),(0,r.jsx)(m.J,{htmlFor:"featured",children:"Featured Product"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(o.$,{type:"submit",disabled:f,className:"flex-1",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Product"}),(0,r.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>a.push("/admin/products"),children:"Cancel"})]})]})})]})]})}),(0,r.jsx)(c.Footer,{})]}):null}},9852:(e,s,a)=>{"use strict";a.d(s,{p:()=>l});var r=a(5155),t=a(2115),i=a(3999);let l=t.forwardRef((e,s)=>{let{className:a,type:t,...l}=e;return(0,r.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});l.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[701,259,297,441,684,358],()=>s(8313)),_N_E=e.O()}]);